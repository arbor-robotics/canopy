const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./leaflet-src.gPfWyBzh.js","./_commonjsHelpers.BosuxZz1.js"])))=>i.map(i=>d[i]);
var pt=Object.defineProperty;var gt=(e,t,n)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>gt(e,typeof t!="symbol"?t+"":t,n);import{_ as mt}from"./preload-helper.C1FmrZbK.js";import{p as yt}from"./stores.DzPvbtKP.js";var _t={value:()=>{}};function ze(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new J(n)}function J(e){this._=e}function wt(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}J.prototype=ze.prototype={constructor:J,on:function(e,t){var n=this._,i=wt(e+"",n),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(e=i[o]).type)&&(r=vt(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(r=(e=i[o]).type)n[r]=Se(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Se(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new J(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};function vt(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function Se(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=_t,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var ue="http://www.w3.org/1999/xhtml";const Ce={svg:"http://www.w3.org/2000/svg",xhtml:ue,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function re(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ce.hasOwnProperty(t)?{space:Ce[t],local:e}:e}function bt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ue&&t.documentElement.namespaceURI===ue?t.createElement(e):t.createElementNS(n,e)}}function xt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Xe(e){var t=re(e);return(t.local?xt:bt)(t)}function kt(){}function ye(e){return e==null?kt:function(){return this.querySelector(e)}}function At(e){typeof e!="function"&&(e=ye(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],s=o.length,a=i[r]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new _(i,this._parents)}function St(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ct(){return[]}function Ve(e){return e==null?Ct:function(){return this.querySelectorAll(e)}}function Nt(e){return function(){return St(e.apply(this,arguments))}}function Mt(e){typeof e=="function"?e=Nt(e):e=Ve(e);for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(i.push(e.call(l,l.__data__,c,s)),r.push(l));return new _(i,r)}function We(e){return function(){return this.matches(e)}}function Ye(e){return function(t){return t.matches(e)}}var Tt=Array.prototype.find;function Et(e){return function(){return Tt.call(this.children,e)}}function Pt(){return this.firstElementChild}function $t(e){return this.select(e==null?Pt:Et(typeof e=="function"?e:Ye(e)))}var Lt=Array.prototype.filter;function Rt(){return Array.from(this.children)}function It(e){return function(){return Lt.call(this.children,e)}}function Ft(e){return this.selectAll(e==null?Rt:It(typeof e=="function"?e:Ye(e)))}function Bt(e){typeof e!="function"&&(e=We(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],s=o.length,a=i[r]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new _(i,this._parents)}function Ke(e){return new Array(e.length)}function Ht(){return new _(this._enter||this._groups.map(Ke),this._parents)}function Z(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Z.prototype={constructor:Z,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ot(e){return function(){return e}}function Dt(e,t,n,i,r,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new Z(e,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function qt(e,t,n,i,r,o,s){var a,l,c=new Map,u=t.length,h=o.length,f=new Array(u),d;for(a=0;a<u;++a)(l=t[a])&&(f[a]=d=s.call(l,l.__data__,a,t)+"",c.has(d)?r[a]=l:c.set(d,l));for(a=0;a<h;++a)d=s.call(e,o[a],a,o)+"",(l=c.get(d))?(i[a]=l,l.__data__=o[a],c.delete(d)):n[a]=new Z(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(r[a]=l)}function zt(e){return e.__data__}function Xt(e,t){if(!arguments.length)return Array.from(this,zt);var n=t?qt:Dt,i=this._parents,r=this._groups;typeof e!="function"&&(e=Ot(e));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],h=r[c],f=h.length,d=Vt(e.call(u,u&&u.__data__,c,i)),p=d.length,g=a[c]=new Array(p),S=s[c]=new Array(p),dt=l[c]=new Array(f);n(u,h,g,S,dt,d,t);for(var $=0,V=0,ke,Ae;$<p;++$)if(ke=g[$]){for($>=V&&(V=$+1);!(Ae=S[V])&&++V<p;);ke._next=Ae||null}}return s=new _(s,i),s._enter=a,s._exit=l,s}function Vt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Wt(){return new _(this._exit||this._groups.map(Ke),this._parents)}function Yt(e,t,n){var i=this.enter(),r=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function Kt(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var c=n[l],u=i[l],h=c.length,f=a[l]=new Array(h),d,p=0;p<h;++p)(d=c[p]||u[p])&&(f[p]=d);for(;l<r;++l)a[l]=n[l];return new _(a,this._parents)}function Ut(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Jt(e){e||(e=Gt);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s=n[o],a=s.length,l=r[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new _(r,this._parents).order()}function Gt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Qt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Zt(){return Array.from(this)}function jt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function en(){let e=0;for(const t of this)++e;return e}function tn(){return!this.node()}function nn(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],o=0,s=r.length,a;o<s;++o)(a=r[o])&&e.call(a,a.__data__,o,r);return this}function rn(e){return function(){this.removeAttribute(e)}}function on(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sn(e,t){return function(){this.setAttribute(e,t)}}function an(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ln(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function cn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function un(e,t){var n=re(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?on:rn:typeof t=="function"?n.local?cn:ln:n.local?an:sn)(n,t))}function Ue(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hn(e){return function(){this.style.removeProperty(e)}}function fn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function dn(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function pn(e,t,n){return arguments.length>1?this.each((t==null?hn:typeof t=="function"?dn:fn)(e,t,n??"")):E(this.node(),e)}function E(e,t){return e.style.getPropertyValue(t)||Ue(e).getComputedStyle(e,null).getPropertyValue(t)}function gn(e){return function(){delete this[e]}}function mn(e,t){return function(){this[e]=t}}function yn(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function _n(e,t){return arguments.length>1?this.each((t==null?gn:typeof t=="function"?yn:mn)(e,t)):this.node()[e]}function Je(e){return e.trim().split(/^|\s+/)}function _e(e){return e.classList||new Ge(e)}function Ge(e){this._node=e,this._names=Je(e.getAttribute("class")||"")}Ge.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Qe(e,t){for(var n=_e(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function Ze(e,t){for(var n=_e(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function wn(e){return function(){Qe(this,e)}}function vn(e){return function(){Ze(this,e)}}function bn(e,t){return function(){(t.apply(this,arguments)?Qe:Ze)(this,e)}}function xn(e,t){var n=Je(e+"");if(arguments.length<2){for(var i=_e(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?bn:t?wn:vn)(n,t))}function kn(){this.textContent=""}function An(e){return function(){this.textContent=e}}function Sn(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Cn(e){return arguments.length?this.each(e==null?kn:(typeof e=="function"?Sn:An)(e)):this.node().textContent}function Nn(){this.innerHTML=""}function Mn(e){return function(){this.innerHTML=e}}function Tn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function En(e){return arguments.length?this.each(e==null?Nn:(typeof e=="function"?Tn:Mn)(e)):this.node().innerHTML}function Pn(){this.nextSibling&&this.parentNode.appendChild(this)}function $n(){return this.each(Pn)}function Ln(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Rn(){return this.each(Ln)}function In(e){var t=typeof e=="function"?e:Xe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Fn(){return null}function Bn(e,t){var n=typeof e=="function"?e:Xe(e),i=t==null?Fn:typeof t=="function"?t:ye(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Hn(){var e=this.parentNode;e&&e.removeChild(this)}function On(){return this.each(Hn)}function Dn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zn(e){return this.select(e?qn:Dn)}function Xn(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Vn(e){return function(t){e.call(this,t,this.__data__)}}function Wn(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Yn(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,o;n<r;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++i]=o;++i?t.length=i:delete this.__on}}}function Kn(e,t,n){return function(){var i=this.__on,r,o=Vn(t);if(i){for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Un(e,t,n){var i=Wn(e+""),r,o=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(r=0,u=a[l];r<o;++r)if((s=i[r]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?Kn:Yn,r=0;r<o;++r)this.each(a(i[r],t,n));return this}function je(e,t,n){var i=Ue(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Jn(e,t){return function(){return je(this,e,t)}}function Gn(e,t){return function(){return je(this,e,t.apply(this,arguments))}}function Qn(e,t){return this.each((typeof t=="function"?Gn:Jn)(e,t))}function*Zn(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var jn=[null];function _(e,t){this._groups=e,this._parents=t}function z(){return new _([[document.documentElement]],jn)}function ei(){return this}_.prototype=z.prototype={constructor:_,select:At,selectAll:Mt,selectChild:$t,selectChildren:Ft,filter:Bt,data:Xt,enter:Ht,exit:Wt,join:Yt,merge:Kt,selection:ei,order:Ut,sort:Jt,call:Qt,nodes:Zt,node:jt,size:en,empty:tn,each:nn,attr:un,style:pn,property:_n,classed:xn,text:Cn,html:En,raise:$n,lower:Rn,append:In,insert:Bn,remove:On,clone:zn,datum:Xn,on:Un,dispatch:Qn,[Symbol.iterator]:Zn};function we(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function et(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function X(){}var H=.7,j=1/H,T="\\s*([+-]?\\d+)\\s*",O="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",v="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ti=/^#([0-9a-f]{3,8})$/,ni=new RegExp(`^rgb\\(${T},${T},${T}\\)$`),ii=new RegExp(`^rgb\\(${v},${v},${v}\\)$`),ri=new RegExp(`^rgba\\(${T},${T},${T},${O}\\)$`),oi=new RegExp(`^rgba\\(${v},${v},${v},${O}\\)$`),si=new RegExp(`^hsl\\(${O},${v},${v}\\)$`),ai=new RegExp(`^hsla\\(${O},${v},${v},${O}\\)$`),Ne={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};we(X,D,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Me,formatHex:Me,formatHex8:li,formatHsl:ci,formatRgb:Te,toString:Te});function Me(){return this.rgb().formatHex()}function li(){return this.rgb().formatHex8()}function ci(){return tt(this).formatHsl()}function Te(){return this.rgb().formatRgb()}function D(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ti.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ee(t):n===3?new m(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?W(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?W(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ni.exec(e))?new m(t[1],t[2],t[3],1):(t=ii.exec(e))?new m(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ri.exec(e))?W(t[1],t[2],t[3],t[4]):(t=oi.exec(e))?W(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=si.exec(e))?Le(t[1],t[2]/100,t[3]/100,1):(t=ai.exec(e))?Le(t[1],t[2]/100,t[3]/100,t[4]):Ne.hasOwnProperty(e)?Ee(Ne[e]):e==="transparent"?new m(NaN,NaN,NaN,0):null}function Ee(e){return new m(e>>16&255,e>>8&255,e&255,1)}function W(e,t,n,i){return i<=0&&(e=t=n=NaN),new m(e,t,n,i)}function ui(e){return e instanceof X||(e=D(e)),e?(e=e.rgb(),new m(e.r,e.g,e.b,e.opacity)):new m}function he(e,t,n,i){return arguments.length===1?ui(e):new m(e,t,n,i??1)}function m(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}we(m,he,et(X,{brighter(e){return e=e==null?j:Math.pow(j,e),new m(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?H:Math.pow(H,e),new m(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new m(N(this.r),N(this.g),N(this.b),ee(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pe,formatHex:Pe,formatHex8:hi,formatRgb:$e,toString:$e}));function Pe(){return`#${C(this.r)}${C(this.g)}${C(this.b)}`}function hi(){return`#${C(this.r)}${C(this.g)}${C(this.b)}${C((isNaN(this.opacity)?1:this.opacity)*255)}`}function $e(){const e=ee(this.opacity);return`${e===1?"rgb(":"rgba("}${N(this.r)}, ${N(this.g)}, ${N(this.b)}${e===1?")":`, ${e})`}`}function ee(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function N(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function C(e){return e=N(e),(e<16?"0":"")+e.toString(16)}function Le(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new y(e,t,n,i)}function tt(e){if(e instanceof y)return new y(e.h,e.s,e.l,e.opacity);if(e instanceof X||(e=D(e)),!e)return new y;if(e instanceof y)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(t===o?s=(n-i)/a+(n<i)*6:n===o?s=(i-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new y(s,a,l,e.opacity)}function fi(e,t,n,i){return arguments.length===1?tt(e):new y(e,t,n,i??1)}function y(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}we(y,fi,et(X,{brighter(e){return e=e==null?j:Math.pow(j,e),new y(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?H:Math.pow(H,e),new y(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new m(ae(e>=240?e-240:e+120,r,i),ae(e,r,i),ae(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new y(Re(this.h),Y(this.s),Y(this.l),ee(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ee(this.opacity);return`${e===1?"hsl(":"hsla("}${Re(this.h)}, ${Y(this.s)*100}%, ${Y(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Re(e){return e=(e||0)%360,e<0?e+360:e}function Y(e){return Math.max(0,Math.min(1,e||0))}function ae(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const nt=e=>()=>e;function di(e,t){return function(n){return e+n*t}}function pi(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function gi(e){return(e=+e)==1?it:function(t,n){return n-t?pi(t,n,e):nt(isNaN(t)?n:t)}}function it(e,t){var n=t-e;return n?di(e,n):nt(isNaN(e)?t:e)}const Ie=function e(t){var n=gi(t);function i(r,o){var s=n((r=he(r)).r,(o=he(o)).r),a=n(r.g,o.g),l=n(r.b,o.b),c=it(r.opacity,o.opacity);return function(u){return r.r=s(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=e,i}(1);function A(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var fe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,le=new RegExp(fe.source,"g");function mi(e){return function(){return e}}function yi(e){return function(t){return e(t)+""}}function _i(e,t){var n=fe.lastIndex=le.lastIndex=0,i,r,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(i=fe.exec(e))&&(r=le.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(i=i[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:A(i,r)})),n=le.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?yi(l[0].x):mi(t):(t=l.length,function(c){for(var u=0,h;u<t;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}var Fe=180/Math.PI,de={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rt(e,t,n,i,r,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*Fe,skewX:Math.atan(l)*Fe,scaleX:s,scaleY:a}}var K;function wi(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?de:rt(t.a,t.b,t.c,t.d,t.e,t.f)}function vi(e){return e==null||(K||(K=document.createElementNS("http://www.w3.org/2000/svg","g")),K.setAttribute("transform",e),!(e=K.transform.baseVal.consolidate()))?de:(e=e.matrix,rt(e.a,e.b,e.c,e.d,e.e,e.f))}function ot(e,t,n,i){function r(c){return c.length?c.pop()+" ":""}function o(c,u,h,f,d,p){if(c!==h||u!==f){var g=d.push("translate(",null,t,null,n);p.push({i:g-4,x:A(c,h)},{i:g-2,x:A(u,f)})}else(h||f)&&d.push("translate("+h+t+f+n)}function s(c,u,h,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:h.push(r(h)+"rotate(",null,i)-2,x:A(c,u)})):u&&h.push(r(h)+"rotate("+u+i)}function a(c,u,h,f){c!==u?f.push({i:h.push(r(h)+"skewX(",null,i)-2,x:A(c,u)}):u&&h.push(r(h)+"skewX("+u+i)}function l(c,u,h,f,d,p){if(c!==h||u!==f){var g=d.push(r(d)+"scale(",null,",",null,")");p.push({i:g-4,x:A(c,h)},{i:g-2,x:A(u,f)})}else(h!==1||f!==1)&&d.push(r(d)+"scale("+h+","+f+")")}return function(c,u){var h=[],f=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,h,f),s(c.rotate,u.rotate,h,f),a(c.skewX,u.skewX,h,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,f),c=u=null,function(d){for(var p=-1,g=f.length,S;++p<g;)h[(S=f[p]).i]=S.x(d);return h.join("")}}}var bi=ot(wi,"px, ","px)","deg)"),xi=ot(vi,", ",")",")"),P=0,I=0,R=0,st=1e3,te,F,ne=0,M=0,oe=0,q=typeof performance=="object"&&performance.now?performance:Date,at=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ve(){return M||(at(ki),M=q.now()+oe)}function ki(){M=0}function ie(){this._call=this._time=this._next=null}ie.prototype=lt.prototype={constructor:ie,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ve():+n)+(t==null?0:+t),!this._next&&F!==this&&(F?F._next=this:te=this,F=this),this._call=e,this._time=n,pe()},stop:function(){this._call&&(this._call=null,this._time=1/0,pe())}};function lt(e,t,n){var i=new ie;return i.restart(e,t,n),i}function Ai(){ve(),++P;for(var e=te,t;e;)(t=M-e._time)>=0&&e._call.call(void 0,t),e=e._next;--P}function Be(){M=(ne=q.now())+oe,P=I=0;try{Ai()}finally{P=0,Ci(),M=0}}function Si(){var e=q.now(),t=e-ne;t>st&&(oe-=t,ne=e)}function Ci(){for(var e,t=te,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:te=n);F=e,pe(i)}function pe(e){if(!P){I&&(I=clearTimeout(I));var t=e-M;t>24?(e<1/0&&(I=setTimeout(Be,e-q.now()-oe)),R&&(R=clearInterval(R))):(R||(ne=q.now(),R=setInterval(Si,st)),P=1,at(Be))}}function He(e,t,n){var i=new ie;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var Ni=ze("start","end","cancel","interrupt"),Mi=[],ct=0,Oe=1,ge=2,G=3,De=4,me=5,Q=6;function se(e,t,n,i,r,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Ti(e,n,{name:t,index:i,group:r,on:Ni,tween:Mi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ct})}function be(e,t){var n=w(e,t);if(n.state>ct)throw new Error("too late; already scheduled");return n}function b(e,t){var n=w(e,t);if(n.state>G)throw new Error("too late; already running");return n}function w(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ti(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=lt(o,0,n.time);function o(c){n.state=Oe,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,h,f,d;if(n.state!==Oe)return l();for(u in i)if(d=i[u],d.name===n.name){if(d.state===G)return He(s);d.state===De?(d.state=Q,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[u]):+u<t&&(d.state=Q,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[u])}if(He(function(){n.state===G&&(n.state=De,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=ge,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ge){for(n.state=G,r=new Array(f=n.tween.length),u=0,h=-1;u<f;++u)(d=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=d);r.length=h+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=me,1),h=-1,f=r.length;++h<f;)r[h].call(e,u);n.state===me&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Q,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function Ei(e,t){var n=e.__transition,i,r,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){o=!1;continue}r=i.state>ge&&i.state<me,i.state=Q,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}o&&delete e.__transition}}function Pi(e){return this.each(function(){Ei(this,e)})}function $i(e,t){var n,i;return function(){var r=b(this,e),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function Li(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=b(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function Ri(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=w(this.node(),n).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===e)return s.value;return null}return this.each((t==null?$i:Li)(n,e,t))}function xe(e,t,n){var i=e._id;return e.each(function(){var r=b(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return w(r,i).value[t]}}function ut(e,t){var n;return(typeof t=="number"?A:t instanceof D?Ie:(n=D(t))?(t=n,Ie):_i)(e,t)}function Ii(e){return function(){this.removeAttribute(e)}}function Fi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bi(e,t,n){var i,r=n+"",o;return function(){var s=this.getAttribute(e);return s===r?null:s===i?o:o=t(i=s,n)}}function Hi(e,t,n){var i,r=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===i?o:o=t(i=s,n)}}function Oi(e,t,n){var i,r,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a)))}}function Di(e,t,n){var i,r,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a)))}}function qi(e,t){var n=re(e),i=n==="transform"?xi:ut;return this.attrTween(e,typeof t=="function"?(n.local?Di:Oi)(n,i,xe(this,"attr."+e,t)):t==null?(n.local?Fi:Ii)(n):(n.local?Hi:Bi)(n,i,t))}function zi(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Xi(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Vi(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&Xi(e,o)),n}return r._value=t,r}function Wi(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&zi(e,o)),n}return r._value=t,r}function Yi(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=re(e);return this.tween(n,(i.local?Vi:Wi)(i,t))}function Ki(e,t){return function(){be(this,e).delay=+t.apply(this,arguments)}}function Ui(e,t){return t=+t,function(){be(this,e).delay=t}}function Ji(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ki:Ui)(t,e)):w(this.node(),t).delay}function Gi(e,t){return function(){b(this,e).duration=+t.apply(this,arguments)}}function Qi(e,t){return t=+t,function(){b(this,e).duration=t}}function Zi(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Gi:Qi)(t,e)):w(this.node(),t).duration}function ji(e,t){if(typeof t!="function")throw new Error;return function(){b(this,e).ease=t}}function er(e){var t=this._id;return arguments.length?this.each(ji(t,e)):w(this.node(),t).ease}function tr(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;b(this,e).ease=n}}function nr(e){if(typeof e!="function")throw new Error;return this.each(tr(this._id,e))}function ir(e){typeof e!="function"&&(e=We(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],s=o.length,a=i[r]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new k(i,this._parents,this._name,this._id)}function rr(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,h=s[a]=new Array(u),f,d=0;d<u;++d)(f=l[d]||c[d])&&(h[d]=f);for(;a<i;++a)s[a]=t[a];return new k(s,this._parents,this._name,this._id)}function or(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function sr(e,t,n){var i,r,o=or(t)?be:b;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(t,n),s.on=r}}function ar(e,t){var n=this._id;return arguments.length<2?w(this.node(),n).on.on(e):this.each(sr(n,e,t))}function lr(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function cr(){return this.on("end.remove",lr(this._id))}function ur(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ye(e));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a=i[s],l=a.length,c=o[s]=new Array(l),u,h,f=0;f<l;++f)(u=a[f])&&(h=e.call(u,u.__data__,f,a))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h,se(c[f],t,n,f,c,w(u,n)));return new k(o,this._parents,t,n)}function hr(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ve(e));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l=i[a],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var f=e.call(u,u.__data__,h,l),d,p=w(u,n),g=0,S=f.length;g<S;++g)(d=f[g])&&se(d,t,n,g,f,p);o.push(f),s.push(u)}return new k(o,s,t,n)}var fr=z.prototype.constructor;function dr(){return new fr(this._groups,this._parents)}function pr(e,t){var n,i,r;return function(){var o=E(this,e),s=(this.style.removeProperty(e),E(this,e));return o===s?null:o===n&&s===i?r:r=t(n=o,i=s)}}function ht(e){return function(){this.style.removeProperty(e)}}function gr(e,t,n){var i,r=n+"",o;return function(){var s=E(this,e);return s===r?null:s===i?o:o=t(i=s,n)}}function mr(e,t,n){var i,r,o;return function(){var s=E(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),E(this,e))),s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a))}}function yr(e,t){var n,i,r,o="style."+t,s="end."+o,a;return function(){var l=b(this,e),c=l.on,u=l.value[o]==null?a||(a=ht(t)):void 0;(c!==n||r!==u)&&(i=(n=c).copy()).on(s,r=u),l.on=i}}function _r(e,t,n){var i=(e+="")=="transform"?bi:ut;return t==null?this.styleTween(e,pr(e,i)).on("end.style."+e,ht(e)):typeof t=="function"?this.styleTween(e,mr(e,i,xe(this,"style."+e,t))).each(yr(this._id,e)):this.styleTween(e,gr(e,i,t),n).on("end.style."+e,null)}function wr(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function vr(e,t,n){var i,r;function o(){var s=t.apply(this,arguments);return s!==r&&(i=(r=s)&&wr(e,s,n)),i}return o._value=t,o}function br(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,vr(e,t,n??""))}function xr(e){return function(){this.textContent=e}}function kr(e){return function(){var t=e(this);this.textContent=t??""}}function Ar(e){return this.tween("text",typeof e=="function"?kr(xe(this,"text",e)):xr(e==null?"":e+""))}function Sr(e){return function(t){this.textContent=e.call(this,t)}}function Cr(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Sr(r)),t}return i._value=e,i}function Nr(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Cr(e))}function Mr(){for(var e=this._name,t=this._id,n=ft(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=w(l,t);se(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new k(i,this._parents,e,n)}function Tr(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--r===0&&o()}};n.each(function(){var c=b(this,i),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),r===0&&o()})}var Er=0;function k(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function ft(){return++Er}var x=z.prototype;k.prototype={constructor:k,select:ur,selectAll:hr,selectChild:x.selectChild,selectChildren:x.selectChildren,filter:ir,merge:rr,selection:dr,transition:Mr,call:x.call,nodes:x.nodes,node:x.node,size:x.size,empty:x.empty,each:x.each,on:ar,attr:qi,attrTween:Yi,style:_r,styleTween:br,text:Ar,textTween:Nr,remove:cr,tween:Ri,delay:Ji,duration:Zi,ease:er,easeVarying:nr,end:Tr,[Symbol.iterator]:x[Symbol.iterator]};function Pr(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $r={time:null,delay:0,duration:250,ease:Pr};function Lr(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Rr(e){var t,n;e instanceof k?(t=e._id,e=e._name):(t=ft(),(n=$r).time=ve(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&se(l,e,t,c,s,n||Lr(l,t));return new k(i,this._parents,e,t)}z.prototype.interrupt=Pi;z.prototype.transition=Rr;function B(e,t,n){this.k=e,this.x=t,this.y=n}B.prototype={constructor:B,scale:function(e){return e===1?this:new B(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new B(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};B.prototype;const Ir=[{scientific:"Tsuga canadensis (L.) Carr.",common:"Eastern Hemlock",icon:"silver_maple",page:1,height_ft:140,description:"A large, long-lived tree, capable of reaching heights of 140 feet. Historically, hemlock contributed construction timber and tannic acid for tanning leather to Pennsylvania's economy. Found in cool, moist woods throughout the Commonwealth, Eastern hemlock is the official state tree of Pennsylvania. Ruffed grouse, Wild turkey and songbirds find food (seeds) and shelter in this tree. Deer browse it heavily when deep snow makes other foods scarce."},{scientific:"Juniperus virginiana L.",common:"Eastern Redcedar",icon:"common_serviceberry",page:2,height_ft:40,description:"A slow growing and long-lived tree, to 40' high. Redcedar is adaptable to a variety of wet or dry conditions. It is a common pioneer species in abandoned farm fields in the southern tier counties and on rocky bluffs. The rot-resistant wood is used chiefly for fence posts and moth-proof chests. Cedar waxwings and other song birds and game birds eat the fruits."},{scientific:"Pinus rigida P. Mill.",common:"Pitch Pine",icon:"red_maple",page:3,height_ft:55,description:"Pitch pine is a medium sized tree, 50'-60' high and widespread in Pennsylvania except the northwestern counties. This fire-adapted species has thick bark which insulates and protects the trunk from damage. It prospers on poor, sandy soils as well as in upland bogs. Its resinous wood is very durable and used for railroad ties, sills of houses and barns and fuel. Pine tar and turpentine are distilled from Pitch pine. Its seeds are important to nuthatches, Pine grosbeak and Black-capped chickadee. Deer and rabbits browse the seedlings."},{scientific:"Pinus resinosa Ait.",common:"Red Pine",icon:"sugar_maple",page:4,height_ft:110,description:"Like White pine, this medium to large-sized tree develops one horizontal whorl of side branches each year, growing up to 110 feet. A valuable timber tree in the northern part of the State, its wood is used chiefly for construction lumber and pulp. Red pine is native to dry slopes in Luzerne, Wyoming, Tioga, and Centre counties and planted extensively by the Bureau of Forestry and the Pennsylvania Game Commission. Songbirds, mice and chipmunks feed on the seeds."},{scientific:"Pinus pungens Lamb.",common:"Table Mountain Pine",icon:"silver_maple",page:5,height_ft:40,description:"This Appalachian endemic species attains a height of 30'-40' on dry, rocky and gravelly slopes and ridgetops in the southcentral and southeastern counties. Not usually used for lumber due to its small size, it can display aggressive growth suited to protecting rocky slopes from erosion."},{scientific:"Pinus virginiana Mill.",common:"Virginia Pine",icon:"common_serviceberry",page:6,height_ft:50,description:"Also called Scrub pine, this irregularly shaped small tree attains a height of 40'–50' or more on sandy or poor rocky soils of barrens and ridgetops. Virginia pine is a southern species that reaches its northern limit in Pennsylvania. It is valuable as cover for worn-out farmlands and is harvested for pulpwood. Virginia pine is not tolerant of shade or fire. The seeds are eaten by squirrels, songbirds and game birds. Caterpillars of the eastern pine elfin butterfly feed on the needles of this tree as well as pitch and short-leaf pine."},{scientific:"Pinus strobus L.",common:"Eastern White Pine",icon:"red_maple",page:7,height_ft:70,description:`Eastern white pines are large trees. At present they usually reach 50'-90' high but the original "Penn's Woods" saw white pines reaching 170' and more. It is one of the most valuable timber trees, found in moist or dry woodlands throughout the state and often planted as an ornamental in large open areas. Many birds, squirrels, chipmunks and mice feed on the seeds and soft needles. Inner bark of white pine is a preferred winter food of porcupine and deer browse the twigs.`},{scientific:"Larix larcina (Duroi) K.Koch",common:"American Larch, Tamarack",icon:"sugar_maple",page:8,height_ft:60,description:`Tamarack is a medium-sized tree growing to 60' in sphagnum bogs of the glaciated northeastern and northwestern corners of the Commonwealth. It is the only cone-bearing native tree that loses its needles annually. Its wood is used chiefly for paper pulp, lumber, posts and railroad ties. European larch (L. decidua) and Japanese larch (L. leptolepis) are more commonly planted in the state. They can be distinguished from American larch by their larger cones, 1-1½" long.`},{scientific:"Cornus florida L",common:"Flowering Dogwood",icon:"silver_maple",page:9,height_ft:30,description:"A small native tree growing to 30' with low spreading crown adapted to life in the shade of maples, oaks and hickories. Its extremely hard wood was used primarily for textile weaving shuttles, wheel hubs and bearings. Valued for ornamental planting horticultural varieties with red or pink bracts have been developed. Dogwood anthracnose disease killed about 75% of Pennsylvania's forest and ornamental dogwoods during the 1980s. More than thirty-six species of birds are reported feeding on the fruits."},{scientific:"Acer rubrum",common:"Red maple",icon:"common_serviceberry",page:10,height_ft:90,description:"The most abundant tree in Pennsylvania growing in a wide variety of habitats, typically reaching 80-100' high. It grows best in wet soils. Known as soft maple because its wood is not as hard as Sugar maple, this is an excellent ornamental tree. Young trees are heavily browsed by deer and rabbits; rodents consume the seeds."},{scientific:"Acer saccharinum L.",common:"Silver maple",icon:"red_maple",page:11,height_ft:100,description:"Found in moist woods and on stream banks throughout Pennsylvania, the largest reaching 100' high. Many mammals and birds eat the seeds. Planted as a shade tree but it has a tendency to split."},{scientific:"Acer pensylvanicum L.",common:"Striped Maple",icon:"sugar_maple",page:12,height_ft:20,description:"Usually from 10'-25' high; common in the mountainous parts of the state on moist, cool, shaded slopes and in deep ravines. Its distinctive white stripes make it an attractive ornamental species."},{scientific:"Acer spicatum Lam.",common:"Mountain Maple",icon:"silver_maple",page:13,height_ft:30,description:"Mountain maple is a shrub or small tree of the forest understory, reaching 25 to 30' high. Its short trunk bears rather straight, slender upright branches on cool, moist rocky hillsides and in ravines under sugar maple, yellow birch, beech, white pine and hemlock. More common in northern counties and at higher elevations of the Ridge and Valley and Allegheny Mountain physiographic provinces, it provides browse for deer, rabbits, and beaver. Ruffed grouse feed on its buds."},{scientific:"Acer saccharinum Marshall",common:"Sugar Maple",icon:"common_serviceberry",page:14,height_ft:90,description:"Also called Rock maple for its hard wood, this important timber tree is found on moist wooded slopes throughout Pennsylvania, typically reaching 90' high. Sugar maple wood is used for furniture, musical instruments and flooring and the sap is tapped for maple syrup production. Sugar maple is an excellent ornamental tree for large open areas. Birds and rodents eat the seeds. Deer, squirrels, porcupine and other mammals browse the twigs, buds and bark."},{scientific:"Acer negundo L.",common:"Box Elder",icon:"red_maple",page:15,height_ft:70,description:"A medium sized tree, occasionally to 70' high. Trunk usually short, dividing into stout branches forming a deep broad crown. Typically found in low moist areas, floodplains and stream banks. Most abundant in eastern and southern Pennsylvania, common along streams in the southwestern part and scattered elsewhere. Used in ornamental plantings."},{scientific:"Fraxinus americana L.",common:"White Ash",icon:"sugar_maple",page:16,height_ft:80,description:"Of Pennsylvania's four ash species, White ash is the most common. It is a large tree, often 80'. high or more with a long straight trunk, widespread on rich soils except in the mountains. Fraxinus pennsylvanica, called green or red ash is a very similar inhabitant of wet bottomlands. The wood of both species is used for sporting goods (especially baseball bats), handles, agricultural tools, and furniture. Black ash, F. nigra, inhabits cold swamps statewide. Pumpkin ash, F. profunda, is found only in wetlands in Erie, Crawford and Warren Counties."},{scientific:"Magnoliana acuminata L.",common:"Cucumber-tree Magnolia",icon:"silver_maple",page:17,height_ft:90,description:`A large tree, reaching 90', native to rich upland woods and slopes in the western half of the Commonwealth. The flowers are large (3" long) and greenish-yellow, blooming from April to June. Magnolia wood is used mainly for interior finish, furniture and containers. Songbirds, squirrels and mice eat the seeds.`},{scientific:"Nyssa sylvatica Marshall",common:"Black Gum",icon:"common_serviceberry",page:18,height_ft:80,description:"Also called black tupelo or sourgum, this is usually a medium sized tree on dry slopes and ridgetops, but it can reach over 80' and 5' in diameter in moist areas along streams. Most common in the southeast and southcentral portions of the state it is rarer in the northern tier counties. The wood is difficult to split and is used for boxes, fuel and railroad ties. The fruits, twigs and foliage provide food for many birds and animals. The brilliant red autumn color and abundant blue fruit make this species an interesting ornamental planting."},{scientific:"Cercis canadensis L.",common:"Redbud",icon:"red_maple",page:19,height_ft:20,description:`Usually a small tree, with a short trunk and branches forming a shallow, broad crown, 15'-20' high with a trunk diameter of 6", it has been known to reach 30' in Pennsylvania. Prized for its bright rose-colored flowers in early spring. Wild populations are native to limestone and diabase soils in the southern half of the Commonwealth, but Redbud is successfully cultivated further north.`},{scientific:"Sassafras albidum (Nutt.) Nees",common:"Sassafras",icon:"sugar_maple",page:20,height_ft:60,description:"A small to medium-sized tree, up to 60' high but usually smaller, with crooked branches, often spreading by root suckers. Its roots, leaves, twigs and fruit have a spicy odor. The oil, once used for flavoring and medicine, may promote cancer. Sassafras wood is used chiefly for kindling, fuel and fence posts."},{scientific:"Populus grandidentata Michx.",common:"Bigtooth Aspen",icon:"silver_maple",page:21,height_ft:60,description:"A medium sized tree, 50'-70' high, common in early successional forests throughout the state. The seeds sprout best in open areas after cutting or fire and spread rapidly by sending up suckers from the roots. Bigtooth aspen is important for regenerating forest cover, protecting soil and slower growing species. Many animals browse the twigs and buds in winter and spring. The wood is used chiefly for making paper."},{scientific:"Populus tremuloides Michx.",common:"Quaking Aspen",icon:"common_serviceberry",page:22,height_ft:40,description:"A small, colony-forming tree, 30'–40' sometimes reaching 60' high. Rapid growing but short-lived. Most common on sandy or gravelly soils of old fields and open woods in northern Pennsylvania, but it can be found throughout the state. Important for revegetating recently cut or burned areas by sprouting from widespread roots. Its wood is used chiefly for pulp in manufacturing paper and cardboard. Many animals browse the twigs and it is a favorite food of beaver."},{scientific:"Fagus grandifolia Ehrh.",common:"American Beech",icon:"red_maple",page:23,height_ft:55,description:"Found on moist rich soils throughout the Commonwealth but more abundant in the north. An important timber species typically reaching 50'-60' high but can be higher. The beechnuts are very important food for wildlife including bears, squirrels, turkeys, and grouse. Beech is a handsome shade tree for large open areas in parks and golf courses."},{scientific:"Betula papyrifera Marshall",common:"Paper Birch",icon:"sugar_maple",page:24,height_ft:65,description:"A large tree to 50'-75' high on upland woods and slopes in northcentral and northeastern Pennsylvania. Seeds and buds are eaten by the Pennsylvania state bird, the Ruffed grouse. Twigs are browsed by deer. Native Americans used the bark for constructing canoes, shelters and containers."},{scientific:"Betula lenta L.",common:"Sweet Birch",icon:"silver_maple",page:25,height_ft:55,description:"Also known as Black birch or Cherry birch, this tree normally attains heights of 50'-60' and is found on a variety of sites from rich fertile lowlands to rocky ridges throughout the state. The heavy, hard, strong wood is used for furniture, boxes, and excellent firewood. Distillation of the bark and twigs produces natural wintergreen oil. Fermented sap can be used to make birch beer. Ruffed grouse feed on buds and seeds, deer and rabbits browse the twigs."},{scientific:"Betula alleghaniensis Britt.",common:"Yellow Birch",icon:"common_serviceberry",page:26,height_ft:75,description:"A medium to large tree, commonly 60'-75', occasionally to 100' tall. Prefers moist, cool soils and cool summer temperatures, often found on north facing slopes and swamps. The wood is used for cabinets, furniture, flooring, and doors. It was a principal wood used for distilling wood alcohol, acetate of lime, tar, and oils. The papery shreds of bark can be stripped off in emergencies and used as a fire starter even in wet conditions. Ruffed grouse feed on buds and seeds, deer and rabbits browse the twigs."},{scientific:"Ostrya virginiana (Miller) K. Koch",common:"Hop-hornbeam",icon:"red_maple",page:27,height_ft:50,description:"A widespread but never abundant understory tree that can grow to 60' but is usually shorter. It favors dry rocky slopes and ridges frequently on limestone. The hard durable wood was used for sleigh runners, tool handles and other small items where strength was important. Both this species and American hornbeam are sometimes called “ironwood” and have similar values for wildlife."},{scientific:"Carpinus caroliniana Walter",common:"American Hornbeam",icon:"sugar_maple",page:28,height_ft:30,description:"An understory tree usually growing to 30' in height but can be larger, with ascending branches and a spreading crown. Common throughout Pennsylvania along stream banks and floodplains in the oak-hickory and northern hardwood forests, this tree has many common names including “blue beech” “water beech” and “ironwood.” The wood is heavy, hard and strong but its small size limits the use to homemade tool handles, mallets and craft items. The leaves provide larval food for tiger swallowtail, redspotted purple, white admiral and striped-hairstreak butterflies."},{scientific:"Prunus serotina Ehrh.",common:"Black Cherry",icon:"silver_maple",page:29,height_ft:65,description:"Commonly 50'-75' high, Black cherry grows throughout the State. It thrives best in fertile alluvial soil but also grows on dry slopes. The hard reddishbrown wood is highly prized for quality furniture and interior trim. Many game birds, song birds, and mammals, including black bear, eat the fruits and seeds."},{scientific:"Prunus virginiana L.",common:"Choke Cherry",icon:"common_serviceberry",page:30,height_ft:25,description:"A fast-growing but short-lived shrub or small tree, rarely exceeding 25'. Found in a variety of open habitats, thickets, roadsides and upland woods throughout the Commonwealth, but more abundant in the western counties. One of the first species to revegetate cleared areas, it is attractive in flower and provides food to several dozen species of birds and mammals."},{scientific:"Prunus pensylvanica L.f.",common:"Fire Cherry",icon:"red_maple",page:31,height_ft:40,description:"Also called pin cherry, this shrub or small tree reaches 40', the trunk is usually short with branches forming a narrow flat-topped crown. Common in the mountainous sections of the state, rare in the southeast and southwest corners. A valuable reforestation species after fire or lumbering clears the land. It provides shade for seedlings of other tree species that follow it in succession and its fruits are food for many birds and small mammals. Deer browse the twigs and young leaves."},{scientific:"Amelanchier arborea",common:"Common Serviceberry",icon:"sugar_maple",page:32,height_ft:40,description:"Amelanchier arborea and A. laevis are small trees, typically under 40' high. Also called Shadbush and Shadblow, names referring to their blooming as shad ascend rivers to spawn. Showy white flowers of Serviceberry, seen through the still naked oaks, provide one of the first floral displays of spring on Pennsylvania ridges. The fruits are excellent food for birds, bears and other wildlife. Humans eat the berries fresh, or in pies, muffins or jam. Seven shrub species of Serviceberry are also found in Pennsylvania."},{scientific:"Crataegus",common:"Hawthorn",icon:"silver_maple",page:33,height_ft:25,description:"Small short-trunked trees or large shrubs 20'–30' high with sharp thorns. Hybridization between species and polyploidy make positive identification of species very difficult. Hundreds of species names have been proposed. The dense thorny branches provide excellent cover for songbirds. Thornless cultivars of cockspur and Washington hawthorns are widely planted ornamentals. The hard, dense wood is good for carving and turning but hawthorns are too small to have commercial value. Tiger swallowtail, viceroy, red-spotted purple and striped hairstreak butterflies feed on hawthorn leaves as caterpillars."},{scientific:"Ulmus americana L.",common:"American Elm",icon:"common_serviceberry",page:34,height_ft:85,description:null},{scientific:"Ulmus rubra Muhl.",common:"Slippery Elm",icon:"red_maple",page:35,height_ft:50,description:null},{scientific:"Celtis occidentalis L.",common:"Common Hackberry",icon:"sugar_maple",page:36,height_ft:35,description:null},{scientific:"Tilia americana L.",common:"Basswood",icon:"silver_maple",page:37,height_ft:90,description:null},{scientific:"Morus rubra L.",common:"Red Mulberry",icon:"common_serviceberry",page:38,height_ft:40,description:null},{scientific:"Quercus velutina Lam.",common:"Black Oak",icon:"red_maple",page:39,height_ft:100,description:null},{scientific:"Quercus rubra L.",common:"Northern Red Oak",icon:"sugar_maple",page:40,height_ft:100,description:null},{scientific:"Quercus palustris Muenchh.",common:"Pin Oak",icon:"silver_maple",page:41,height_ft:70,description:null},{scientific:"Quercus coccinea Muenchh",common:"Scarlet Oak",icon:"common_serviceberry",page:42,height_ft:80,description:null},{scientific:"Quercus montana Willd.",common:"Chestnut Oak",icon:"red_maple",page:43,height_ft:80,description:null},{scientific:"Quercus alba L.",common:"White Oak",icon:"sugar_maple",page:44,height_ft:90,description:null},{scientific:"Platanus occidentalis L.",common:"Sycamore",icon:"silver_maple",page:46,height_ft:100,description:null},{scientific:"Liriodendron tulipifera L.",common:"Tuliptree",icon:"common_serviceberry",page:47,height_ft:140,description:null},{scientific:"Salix nigra Marshall",common:"Black Willow",icon:"red_maple",page:48,height_ft:60,description:null},{scientific:"Hamamelis virginiana L.",common:"Witch-hazel",icon:"sugar_maple",page:49,height_ft:25,description:null},{scientific:"Robinia pseudoacacia L.",common:"Black Locust",icon:"silver_maple",page:50,height_ft:75,description:null},{scientific:"Gleditsia triacanthos L.",common:"Honey-locust",icon:"common_serviceberry",page:51,height_ft:50,description:null},{scientific:"Carya cordiformis (Wang.) K. Koch",common:"Bitternut Hickory",icon:"red_maple",page:52,height_ft:70,description:null},{scientific:"Carya tomentosa (Lam. ex Poir.) Nutt.",common:"Mockernut Hickory",icon:"sugar_maple",page:53,height_ft:65,description:null},{scientific:"Carya glabra (Miller) Sweet",common:"Pignut Hickory",icon:"silver_maple",page:54,height_ft:90,description:null},{scientific:"Carya ovata (Miller) K. Koch",common:"Shagbark Hickory",icon:"common_serviceberry",page:55,height_ft:75,description:null},{scientific:"Carya laciniosa (F. Michaux) Loudon",common:"Shellbark Hickory",icon:"red_maple",page:56,height_ft:110,description:null},{scientific:"Juglans cinerea L.",common:"Butternut",icon:"sugar_maple",page:57,height_ft:60,description:null},{scientific:"Juglans nigra L.",common:"Black Walnut",icon:"silver_maple",page:58,height_ft:115,description:null},{scientific:"Castanea dentata (Marshall) Borkhaussen",common:"American Chestnut",icon:"common_serviceberry",page:45,height_ft:10,description:'Formerly the most common and arguably the most valuable tree in Pennsylvania for both its wood and nuts. It now persists as stump sprouts and small trees due to the bark disease commonly called chestnut blight. Chinese chestnut, (Castanea mollissima Blume) is planted for its 1" nuts. Its leaves are shorter, up to 6" long and pubescent beneath. Chinese chestnut is resistant to chestnut blight and breeding programs designed to bring this resistance into American chestnut are underway.'}];let U;function Fr(e,t,n){for(var i=!1,r=0,o=n.length-1;r<n.length;o=r++){var s=n[r][1],a=n[r][0],l=n[o][1],c=n[o][0],u=a>t!=c>t&&e<(l-s)*(t-a)/(c-a)+s;u&&(i=!i)}return i}class Dr{constructor(t){L(this,"species");L(this,"locations");L(this,"bbox");L(this,"geojson");this.changeCb=t,this.species=new Map([]),this.locations=new Map([]),this.bbox=[-1,-1,-1,-1],this.geojson=void 0,Ir.forEach(n=>{this.species.set(n.page,n)}),console.log(this.species)}loadFromString(t){let n=JSON.parse(JSON.parse(t));console.log(n),this.locations.clear(),n.locations.forEach(i=>{this.locations.set([i.lat,i.lon],this.species.get(i.species))}),this.geojson=n.geojson,this.changeCb(),console.log(this.geojson)}toString(){let t=[];for(let[i,r]of this.locations)t.push({lat:i[0],lon:i[1],species:r.page});let n={locations:t,geojson:this.geojson};return JSON.stringify(n)}getSpeciesOptions(){return this.species}markIncluded(t,n=!0){this.species.get(t).included=n}getIncludedSpecies(){let t=[];for(let[n,i]of this.species)i.included&&t.push(i);return t}getIncludedSpeciesCount(){return this.getIncludedSpecies().length}regeneratePoints(){this.generateSeedlings(),console.log(this.locations),this.changeCb()}setGeoJSON(t){console.log(t),this.bbox=qe(t),this.geojson=t,console.log(this.bbox),this.regeneratePoints()}async generateSeedlings(t=100,n=5){let i=0;for(this.locations.clear(),U==null&&(U=await mt(()=>import("./leaflet-src.gPfWyBzh.js").then(r=>r.l),__vite__mapDeps([0,1]),import.meta.url));i<t;){let r=this.getRandomPoint(),o=Math.floor(ce(1,59)),s=this.species.get(o),a=99999;for(let[l,c]of this.locations){let u=U.latLng(r[0],r[1]),h=U.latLng(l),f=u.distanceTo(h);f<a&&(a=f)}if(a<n){i++;continue}this.locations.set(r,s)}}getRandomPoint(){let t,n,i,r;this.bbox==null?[t,n,i,r]=qe(this.geojson.geometry):[t,n,i,r]=this.bbox;const o=100;let s=!1,a=[0,0];for(let l=0;l<o;l++){let c=ce(i,r),u=ce(t,n);this.geojson.geometry.coordinates.forEach(h=>{if(h.length==1&&(h=h[0]),s)return a;Fr(u,c,h)&&(a=[u,c],s=!0)})}return a}}yt.subscribe(e=>{e!=null&&e.seedlings});function ce(e,t){return Math.random()*(t-e)+e}function qe(e){let t=e.geometry.coordinates,n=99999.9,i=99999.9,r=-99999.9,o=-99999.9;return console.log(t),t.forEach(s=>{s.length==1&&(s=s[0]),s.forEach(a=>{let l=a[0],c=a[1];c<n?n=c:c>r&&(r=c),l<i&&(i=l),l>o&&(o=l)})}),[n,r,i,o]}export{Dr as F};
